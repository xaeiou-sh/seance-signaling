[project]
name = "seance"
revision = "1.0"

# SecretSpec Configuration
# Declares what secrets this project needs
# This file is checked into version control
# Actual secret values are stored in .env (gitignored)

# Zitadel Master Key (must be exactly 32 bytes)
[profiles.default.ZITADEL_MASTERKEY]
description = "Zitadel encryption master key (32 bytes)"
required = true
default = "MasterkeyNeedsToHave32Characters"

# Zitadel OIDC Application Credentials
# These are generated by setup-zitadel-app script
[profiles.default.ZITADEL_CLIENT_ID]
description = "Zitadel OIDC application client ID"
required = false
default = ""

[profiles.default.ZITADEL_CLIENT_SECRET]
description = "Zitadel OIDC application client secret"
required = false
default = ""

[profiles.default.VITE_ZITADEL_CLIENT_ID]
description = "Zitadel client ID for frontend (same as ZITADEL_CLIENT_ID)"
required = false
default = ""

# Database Credentials
[profiles.default.POSTGRES_PASSWORD]
description = "PostgreSQL password for zitadel user"
required = true
default = "zitadel_dev_password"

# Stripe API Keys
[profiles.default.STRIPE_SECRET_KEY]
description = "Stripe secret key for payment processing"
required = false
default = ""

[profiles.default.STRIPE_WEBHOOK_SECRET]
description = "Stripe webhook endpoint secret"
required = false
default = ""

[profiles.default.STRIPE_PRICE_ID]
description = "Stripe price ID for subscription"
required = false
default = ""

# Builder Key (for deployment authentication)
[profiles.default.BUILDER_KEY]
description = "Deployment authentication key (SHA256 hash stored in config.yml)"
required = false
default = ""

# Production overrides - require all secrets
[profiles.production.ZITADEL_MASTERKEY]
description = "Zitadel encryption master key (32 bytes)"
required = true

[profiles.production.ZITADEL_CLIENT_ID]
description = "Zitadel OIDC application client ID"
required = true

[profiles.production.ZITADEL_CLIENT_SECRET]
description = "Zitadel OIDC application client secret"
required = true

[profiles.production.VITE_ZITADEL_CLIENT_ID]
description = "Zitadel client ID for frontend"
required = true

[profiles.production.POSTGRES_PASSWORD]
description = "PostgreSQL password for zitadel user"
required = true

[profiles.production.STRIPE_SECRET_KEY]
description = "Stripe secret key for payment processing"
required = true

[profiles.production.STRIPE_WEBHOOK_SECRET]
description = "Stripe webhook endpoint secret"
required = true

[profiles.production.STRIPE_PRICE_ID]
description = "Stripe price ID for subscription"
required = true

[profiles.production.BUILDER_KEY]
description = "Deployment authentication key"
required = true
